var GLOBAL_JS={b_fValidateEmpty:function(e){var t=/^ *$/;if(e==""||t.test(e)){return true;}return false;},b_fCheckEmail:function(e){var t=new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);return t.test(e)},b_fCheckMinLength:function(e,the_i_Length){if(e.length<the_i_Length){return false;}return true;},b_fCheckMaxLength:function(e,the_i_Length){if(e.length>the_i_Length){return false;}return true;},b_fCheckConfirmPwd:function(e,t){if(e==t){return true;}return false;},pad:function(num){var str=num.toString().split('.');if(str[0].length>=4){str[0]=str[0].replace(/(\d)(?=(\d{3})+$)/g,'$1 ');}return(str.join('.'));}};jQuery(document).ready(function($){var t=$(location).attr("href");sz_CurrentHost=t.split("/")[0]+"//"+t.split("/")[2];$(window).scroll(function(){if($(this).scrollTop()>100){$('.ContentScrollup').fadeIn();$('.scrollup').fadeIn();}else{$('.ContentScrollup').fadeOut();$('.scrollup').fadeOut();}});$('.scrollup').click(function(){$("html, body").animate({scrollTop:0},600);return false;});$(window).scroll(function(){if($(this).scrollTop()>100){$('.dx_logo').css('padding','0px 35px 3px 36px');$('.dx_logo').css('border-radius','0');$('.dx_logo').css('top','-7px');}else{$('.dx_logo').css('padding','20px 30px');$('.dx_logo').css('border-bottom-left-radius','5px');$('.dx_logo').css('border-bottom-right-radius','5px');}});$(window).scroll(function(){if($(this).scrollTop()>80){$('.dx_menu_detail_bg').addClass('dx_menu_detail_bg_scroll')}else{$('.dx_menu_detail_bg').removeClass('dx_menu_detail_bg_scroll')}});$(window).scroll(function(){if($(this).scrollTop()>600){$('.dx_menu_detail_bg').addClass('dx_menu_detail_bg_scroll')}else{$('.dx_menu_detail_bg').removeClass('dx_menu_detail_bg_scroll')}});$('#dx_top').click(function(event){event.preventDefault();$('body').animate({'scrollTop':'0px'},800)});$(".dx_menu_detail a").on('click',function(event){event.preventDefault();var hash=this.hash;$('html, body').animate({scrollTop:$(hash).offset().top-120},400,function(){window.location.hash=hash;});});$(".video-change").click(function(){var iframe=$(this).attr('alt');$('.frameClass').html(iframe);});$('.call-popup-booking').click(function(){var alias=$('#projectAlias').val();var building=$(this).attr('data-building');var apartmentType=$(this).attr('data-apartmentType');var img=$(this).attr('data-img');var numberApartment=$(this).text();$('#popupBooking .imgApartmenttype').attr('src',img);var redirect=sz_CurrentHost+'/thong-tin-dat-cho/'+alias+'.html?building='+building+'&type='+apartmentType+'&number='+numberApartment;$('#popupBooking #popupNumber').text(numberApartment);if($(this).hasClass('apartmentOrder')){$('#popupBooking .redirect-info-booking').text('Khách đã đặt cọc').prop('disabled',true);$('#popupBooking .redirect-info-booking').closest('a').removeAttr('href');}else if($(this).hasClass('apartmentSell')){$('#popupBooking .redirect-info-booking').text('Đã bán').prop('disabled',true);$('#popupBooking .redirect-info-booking').closest('a').removeAttr('href');}else if($(this).hasClass('apartmentBooking')){$('#popupBooking .redirect-info-booking').text('Đặt chỗ căn này').prop('disabled',false);$('#popupBooking .redirect-info-booking').closest('a').attr('href',redirect);}else{$('#popupBooking .redirect-info-booking').text('Đặt chỗ căn này').prop('disabled',false);$('#popupBooking .redirect-info-booking').closest('a').attr('href',redirect);}$("#popupBooking").modal();});$('#callPopupInfoBooking').click(function(){$('.alert-danger').remove();var name=$('#name').val();var passport=$('#passport').val();var detailAddress=$('#detailAddress').val();var phone=$('#cus-phone').val();var email=$('#email').val();var note=$('#note').val();if(GLOBAL_JS.b_fValidateEmpty(name)){$('#name').closest('.dx_search_field').after('<div class="dx_search_field"></div></di><div class="alert alert-danger">Bạn chưa nhập họ tên đầy đủ!</div></div>');$('#name').focus();return false;}if(GLOBAL_JS.b_fValidateEmpty(passport)){$('#passport').closest('.dx_search_field').after('<div class="dx_search_field"><div class="alert alert-danger">Bạn chưa nhập số CMND!</div></div>');$('#passport').focus();return false;}if(GLOBAL_JS.b_fValidateEmpty(detailAddress)){$('#detailAddress').closest('.dx_search_field').after('<div class="dx_search_field"><div class="alert alert-danger">Bạn chưa nhập địa chỉ chi tiết!</div></div>');$('#detailAddress').focus();return false;}if(GLOBAL_JS.b_fValidateEmpty(phone)){$('#phone').closest('.dx_search_field').after('<div class="dx_search_field"><div class="alert alert-danger">Bạn chưa nhập số điện thoại!</div></div>');$('#cus-phone').focus();return false;}$('#confirm-name').text($('#name').val());$('#confirm-passport').text($('#passport').val());$('#confirm-detailAddress').text($('#detailAddress').val());$('#confirm-phone').text($('#cus-phone').val());$('#confirm-email').text($('#email').val());$('#confirm-note').text($('#note').val());$("#popupInfoBooking").modal();});$('.send-info-booking').click(function(){var name=$('#name').val();var passport=$('#passport').val();var passportCreate=$('#passportCreate').val();var passportPlace=$('#passportPlace').val();var city=$('#city').val();var district=$('#district').val();var detailAddress=$('#detailAddress').val();var phone=$('#cus-phone').val();var email=$('#email').val();var note=$('#note').val();var building=$('#building').val();var type=$('#apartmentType').val();var number=$('#number').val();var alias=$('#projectAlias').val();var arrData={'name':name,'passport':passport,'passportCreate':passportCreate,'passportPlace':passportPlace,'city':city,'district':district,'detailAddress':detailAddress,'phone':phone,'email':email,'note':note,'building':building,'type':type,'number':number,}
$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'sendInfoBooking',arrData:arrData},dataType:'json',success:function(data){alert(data.alert);if(data.success!=0){window.location=sz_CurrentHost+'/dat-cho-can-ho/'+alias+'.html?building='+building;}}});});$('.change-building').change(function(){var building=$(this).val();var alias=$('#projectAlias').val();window.location=sz_CurrentHost+'/dat-cho-can-ho/'+alias+'.html?building='+building;});$('.load-areas').change(function(){var parentId=$(this).val();var parentType=$(this).attr('id');var option='<option value="">Quận/Huyện</option>';if(parentId!=''){$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'loadAreas',parentId:parentId,},dataType:'json',success:function(data){$.each(data.areas,function(i,item){option+='<option value="'+item._id.$id+'">'+item.name+'</option>';});if(parentType=='city')$('#district').html(option);else $('#ward').html(option);$('#region').val(data.region);$(".chosen-select").trigger("chosen:updated");}});}else{$('#district').html(option);}});$('.load-areas-search').change(function(){var me=$(this);var parentId=me.val();var option='<option value="">Quận/Huyện</option>';if(parentId!=''){$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'loadAreas',parentId:parentId,},dataType:'json',success:function(data){$.each(data.areas,function(i,item){option+='<option value="'+item._id.$id+'">'+item.name+'</option>';});me.closest('form').find('#district').html(option).trigger("chosen:updated");}});}else{$('#district').html(option);}});$('.click-up').click(function(){$('.show-error').addClass('hide');var parent=$(this).closest('.dx_submit_project');if(parent.hasClass('dx_submit_project_hide')){var up=1;parent.removeClass("dx_submit_project_hide",500);$(this).switchClass("fa-chevron-up","fa-chevron-down",500,"easeInOutQuad");}else{var up=0;parent.addClass("dx_submit_project_hide",500);$(this).switchClass("fa-chevron-down","fa-chevron-up",500,"easeInOutQuad");}$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'statusFormRegisterProject',up:up},dataType:'json',success:function(data){}});});var sec=5;var timer=setInterval(function(){sec--;if(sec==-1){if($('.dx_submit_project input:focus').length==0){if($('.dx_submit_project').hasClass('dx_submit_project_hide')){return false;}else{$('.dx_submit_project').addClass("dx_submit_project_hide",500);$('.click-up').switchClass("fa-chevron-down","fa-chevron-up",500,"easeInOutQuad");$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'statusFormRegisterProject',up:0},dataType:'json',success:function(data){}});}}clearInterval(timer);}},1000);$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'getStatusFormRegisterProject',},dataType:'json',success:function(data){if(data==0){$('.dx_submit_project').addClass("dx_submit_project_hide",500);$('.click-up').switchClass("fa-chevron-down","fa-chevron-up");}else{$('.dx_submit_project').removeClass("dx_submit_project_hide",500);$('.click-up').switchClass("fa-chevron-up","fa-chevron-down");}}});$('#send-register-project').click(function(){var name=$('#reg-name').val();var email=$('#reg-email').val();var phone=$('#reg-phone').val();var project=$('#careProject').val();var note=$('#reg-note').val();if(GLOBAL_JS.b_fValidateEmpty(name)){$('.dx_submit_project .show-error').removeClass('hide').text('Bạn chưa nhập họ tên đầy đủ!');$('#reg-name').focus();return false;}if(GLOBAL_JS.b_fValidateEmpty(phone)){$('.dx_submit_project .show-error').removeClass('hide').text('Bạn chưa nhập số điện thoại!');$('#reg-phone').focus();return false;}if(GLOBAL_JS.b_fValidateEmpty(note)){$('.dx_submit_project .show-error').removeClass('hide').text('Bạn cần nhập nội dung yêu cầu!');$('#reg-note').focus();return false;}var arrData={'name':name,'email':email,'phone':phone,'project':project,'note':note};$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'sendRegisterProject',arrData:arrData},dataType:'json',success:function(data){$('.dx_submit_project .show-error').removeClass('hide').text(data.alert);}});});$('.btn-home-search').click(function(){var parent=$(this).closest('form');var parentSearch=parent.attr('id');var childCat=parent.find('.search-child-cat').val();var city=parent.find('.search-city').val();var district=parent.find('.search-district').val();var name=parent.find('.search-name').val();var arrData={'parentSearch':parentSearch,'childCat':childCat,'city':city,'district':district,'name':name};$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'redirectHomeSearch',arrData:arrData},dataType:'json',success:function(url){if(url!='')window.location=sz_CurrentHost+'/'+url;}});});$('.downloadProject').click(function(){var me=$(this);var parent=me.closest('div');var type=me.attr('data-type');var projectId=me.attr('data-project');var phone=parent.find('#phone-reg').val();var email=parent.find('#email-reg').val();if(GLOBAL_JS.b_fValidateEmpty(phone)){$('.err-downloadProject').removeClass('hide').text('Bạn cần nhập số điện thoại');return false;}if(GLOBAL_JS.b_fValidateEmpty(email)){$('.err-downloadProject').removeClass('hide').text('Bạn cần nhập Email');return false;}if(!GLOBAL_JS.b_fCheckEmail(email)){$('.err-downloadProject').removeClass('hide').text('Email chưa đúng định dạng');return false;}var arrData={'type':type,'projectId':projectId,'phone':phone,'email':email};$.ajax({type:'post',url:sz_CurrentHost+'/api/common',data:{func:'downloadProject',arrData:arrData},dataType:'json',success:function(data){if(data.success==1){parent.find('#phone-reg').val('');parent.find('#email-reg').val('');parent.find('.err-downloadProject').addClass('hide');window.open(data.url);}}});});$('#pc-interest').click(function(){var money=$("#money").val();var i=0,strLength=money.length;for(i;i<strLength;i++){money=money.replace(' ','');}var interest=$("#interest").val();var interest=interest/100;var interest_type=$("#time").val();var deadline=$("#deadline").val();var deadline=deadline.replace(' ','');var deadline_type=$("#time2").val();var type=$("#type").val();if(money==''||interest==''||deadline==''){alert('Kiểm tra dữ liệu đầu vào!');return false;}if(isNaN(money)==true||isNaN(interest)==true||isNaN(deadline)==true){alert('Kiểm tra dữ liệu đầu vào!');return false;}if(money<0||interest<0||deadline<0){alert('Kiểm tra dữ liệu đầu vào!');return false;}if(interest_type==2)interest=interest/12;if(deadline_type==2)deadline=deadline*12;var all_money_rest=money;var first_tr='<tr class="number-total-money"><td>0</td><td>'+GLOBAL_JS.pad(Math.ceil(all_money_rest))+'</td><td></td><td></td><td></td></tr>';$('#content-value').html(first_tr);if(type==1){var LVHT=((money*Math.pow((1+interest),deadline))-money)/deadline;var TGHT=money/deadline;var TTHT=TGHT+LVHT;for(i=1;i<=deadline;i++){var tr_content='<tr class="number-total-money"><td>'+i+'</td><td>'+GLOBAL_JS.pad(Math.ceil((all_money_rest-TGHT)))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(TGHT))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(LVHT))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(TTHT))+'</td></tr>';$('#content-value').append(tr_content);all_money_rest=all_money_rest-TGHT;}var All=LVHT*deadline+parseInt(money);var TLV=LVHT*deadline;}else if(type==2){var LVHT=money*interest;var TGHT=money/deadline;var TTHT=TGHT+LVHT;for(i=1;i<=deadline;i++){var tr_content='<tr class="number-total-money"><td>'+i+'</td><td>'+GLOBAL_JS.pad(Math.ceil((all_money_rest-TGHT)))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(TGHT))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(LVHT))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(TTHT))+'</td></tr>';$('#content-value').append(tr_content);all_money_rest=all_money_rest-TGHT;}var All=LVHT*deadline+parseInt(money);var TLV=LVHT*deadline;}else if(type==3){var TGHT=money/deadline;var TLV=0;for(i=1;i<=deadline;i++){var LVHT=(money-TGHT*(i-1))*interest;var TTHT=TGHT+LVHT;TLV=TLV+LVHT;var tr_content='<tr class="number-total-money"><td>'+i+'</td><td>'+GLOBAL_JS.pad(Math.ceil((all_money_rest-TGHT)))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(TGHT))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(LVHT))+'</td><td>'+GLOBAL_JS.pad(Math.ceil(TTHT))+'</td></tr>';$('#content-value').append(tr_content);all_money_rest=all_money_rest-TGHT;}var All=TLV+parseInt(money);}$('.before-money').html(GLOBAL_JS.pad(Math.ceil(money))+' VNĐ');$('.all-money').html(GLOBAL_JS.pad(Math.ceil(All))+' VNĐ');$('.all-interest').html(GLOBAL_JS.pad(Math.ceil(TLV))+' VNĐ');$("#caculated").modal();});$("#money").keyup(function(){var num=$("#money").val();var i=0,strLength=num.length;for(i;i<strLength;i++){num=num.replace(' ','');}$("#money").val(GLOBAL_JS.pad(num));});if($('.check-detail-page').length){window.onload=function(){var ImageMap=function(mapelement,img){var n,areas=mapelement.getElementsByTagName('area'),len=areas.length,coords=[],previousWidth=780;for(n=0;n<len;n++){coords[n]=areas[n].coords.split(',');}this.resize=function(){var n,m,clen,x=img.offsetWidth/previousWidth;for(n=0;n<len;n++){clen=coords[n].length;for(m=0;m<clen;m++){coords[n][m]*=x;}areas[n].coords=coords[n].join(',');}previousWidth=document.body.clientWidth;return true;};window.onresize=this.resize;};$('img.map').each(function(index){if($('#map_ID'+index).length){imageMap=new ImageMap(document.getElementById('map_ID'+index),document.getElementById('img_ID'+index));imageMap.resize();}});$('area.showPopupApartmentType').click(function(){var name=$(this).attr('title');var img=$(this).attr('data-img');$('#nameApartmentType').text(name);$('#imgApartmentType').attr('src',img);$('#popupApartmentType').modal();});}
$('.map').maphilight();}var areas=document.getElementsByTagName('area');for(var index=0;index<areas.length;index++){areas[index].addEventListener('mouseover',function(){this.focus();},false);areas[index].addEventListener('mouseout',function(){this.blur();},false);};jssor_1_slider_init=function(){var jssor_1_SlideshowTransitions=[{$Duration:1200,x:0.3,$During:{$Left:[0.3,0.7]},$Easing:{$Left:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:-0.3,$SlideOut:true,$Easing:{$Left:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:-0.3,$During:{$Left:[0.3,0.7]},$Easing:{$Left:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:0.3,$SlideOut:true,$Easing:{$Left:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,y:0.3,$During:{$Top:[0.3,0.7]},$Easing:{$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,y:-0.3,$SlideOut:true,$Easing:{$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,y:-0.3,$During:{$Top:[0.3,0.7]},$Easing:{$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,y:0.3,$SlideOut:true,$Easing:{$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:0.3,$Cols:2,$During:{$Left:[0.3,0.7]},$ChessMode:{$Column:3},$Easing:{$Left:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:0.3,$Cols:2,$SlideOut:true,$ChessMode:{$Column:3},$Easing:{$Left:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,y:0.3,$Rows:2,$During:{$Top:[0.3,0.7]},$ChessMode:{$Row:12},$Easing:{$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,y:0.3,$Rows:2,$SlideOut:true,$ChessMode:{$Row:12},$Easing:{$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,y:0.3,$Cols:2,$During:{$Top:[0.3,0.7]},$ChessMode:{$Column:12},$Easing:{$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,y:-0.3,$Cols:2,$SlideOut:true,$ChessMode:{$Column:12},$Easing:{$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:0.3,$Rows:2,$During:{$Left:[0.3,0.7]},$ChessMode:{$Row:3},$Easing:{$Left:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:-0.3,$Rows:2,$SlideOut:true,$ChessMode:{$Row:3},$Easing:{$Left:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:0.3,y:0.3,$Cols:2,$Rows:2,$During:{$Left:[0.3,0.7],$Top:[0.3,0.7]},$ChessMode:{$Column:3,$Row:12},$Easing:{$Left:$Jease$.$InCubic,$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,x:0.3,y:0.3,$Cols:2,$Rows:2,$During:{$Left:[0.3,0.7],$Top:[0.3,0.7]},$SlideOut:true,$ChessMode:{$Column:3,$Row:12},$Easing:{$Left:$Jease$.$InCubic,$Top:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,$Delay:20,$Clip:3,$Assembly:260,$Easing:{$Clip:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,$Delay:20,$Clip:3,$SlideOut:true,$Assembly:260,$Easing:{$Clip:$Jease$.$OutCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,$Delay:20,$Clip:12,$Assembly:260,$Easing:{$Clip:$Jease$.$InCubic,$Opacity:$Jease$.$Linear},$Opacity:2},{$Duration:1200,$Delay:20,$Clip:12,$SlideOut:true,$Assembly:260,$Easing:{$Clip:$Jease$.$OutCubic,$Opacity:$Jease$.$Linear},$Opacity:2}];var jssor_1_options={$AutoPlay:true,$SlideshowOptions:{$Class:$JssorSlideshowRunner$,$Transitions:jssor_1_SlideshowTransitions,$TransitionsOrder:1},$ArrowNavigatorOptions:{$Class:$JssorArrowNavigator$},$ThumbnailNavigatorOptions:{$Class:$JssorThumbnailNavigator$,$Cols:10,$SpacingX:8,$SpacingY:8,$Align:360}};var jssor_1_slider=new $JssorSlider$("jssor_1",jssor_1_options);function ScaleSlider(){var refSize=jssor_1_slider.$Elmt.parentNode.clientWidth;if(refSize){refSize=Math.min(refSize,800);jssor_1_slider.$ScaleWidth(refSize);}else{window.setTimeout(ScaleSlider,30);}}ScaleSlider();$Jssor$.$AddEvent(window,"load",ScaleSlider);$Jssor$.$AddEvent(window,"resize",ScaleSlider);$Jssor$.$AddEvent(window,"orientationchange",ScaleSlider);};jssor_1_slider_init();});